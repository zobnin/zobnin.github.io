<p>
Многие годы я был ярым фанатом кастомных прошивок. В отличие от стока, они предлагали внушительный набор функций, многие из которых были просто незаменимы. Однако, установив Android 5.0 Lollipop и проходив со смартфоном пару недель я понял, что впервые в жизни ничего не хочу менять и не желаю видеть новый функционал в операционной системе. Далее я расскажу почему и как Google удалось этого добиться.
</p>

::cut::

<p>
Не претендуя на истину в первой инстанции попробую суммировать мои впечатления от Lollipop и сравнить современный Android с кастомными прошивками. Скажу сразу, что тонны настроек на любой вкус и цвет, движок тем или сумасшедшие идеи ребят из Paranoid Android в кастомных прошивках меня никогда не интересовали. Причина, по которой я устанавливал кастомы всегда была в наличии нескольких приятных функций и доработок. Среди них можно отметить модернизированную настраиваемую реализацию быстрых настроек, функцию Active Display (в OmniROM и Paranoid), круговые кнопки навигации PIE и несколько других более мелких изменений. Обо всем этом мы и поговорим.
</p>
<h3>Быстрые настройки</h3>
<p>
Если мне не изменяет память, панель быстрых настроек в "шторке" появилась еще в CyanogenMod 7. Тогда она представляла собой нечто вроде стандартного виджета быстрых настроек, размещенного выше уведомлений. Очень скоро данную функцию интегрировали в свои прошивки многие производители смартфонов, а начиная с четвертой версии Android и сама Google.
</p><p>
Однако подход Google оказался довольно странным. Вместо того, чтобы сделать "как все" они добавили кнопки настроек на дополнительную панель, доступную после нажатия кнопки в правом верхнем углу открытой "шторки". Более того, кнопки не переключали настройки по нажатию, а вместо этого открывали меню настроек на нужном пункте. Для включения/выключения того же Wi-Fi необходимо было сначала открыть шторку, затем нажать на кнопку сверху, затем тапнуть по нужной плитке и лишь тогда тапнуть по переключателю в открывшемся окне настроек. Жутко неудобно.
</p>
<p>
К счастью, разработчики кастомов быстро все исправили, позволив включать/выключать настройки с помощью тапа и добавили возможность менять расположение и набор плиток. Стоит отметить и появившиеся в Paranoid и OmniROM двойные плитки, вмещающие в себя сразу две смежных настройки (в OmniROM плитка переворачивалась, в Paranoid - просто переключалась), а также переписанную реализацию классической панели быстрых настроек в шторке в CyanogenMod 11.
</p>
<center>
<img src="/uploads/settings1.png"/>
<img src="/uploads/settings2.ong"/>
</center>
<i>Стандартная панель быстрых настроек в KitKat и лента быстрых настроек в CyanogenMod 11</i>
<p>
Начиная с Lollipop Google полностью сменила курс в отношении быстрых настроек и переписала все с нуля. Теперь панель быстрых настроек находится именно там, где и должна, а именно в самой шторке и чтобы получить к ней доступ достаточно второй раз потянуть шторку вниз. Кнопки настроек теперь именно переключают настройку, а не открывают меню, причем в случае с настройками Wi-Fi или Bluetooth могут делать и то и другое - достаточно тапнуть ниже самой иконки.
</p><p>
Панель настроек теперь динамическая и редко используемые и ненужные большинству пользователя кнопки теперь появляются в ней только после того как юзер воспользуется данной настройкой. Например, кнопки включения точки доступа и инвертирования цветов экрана по умолчанию не доступны, но появляются после того как юзер единожды включит данную функцию в стандартном меню настроек.
</p>
<center>
<img src="/uploads/settings3.png"/>
<img src="/uploads/settings4.png"/>
</center>
<i>Панель быстрых настроек до и после первого применения функции инвертирования цветов и включения точки доступа</i>
<p>
В целом панель быстрых настроек стала именно такой, какой и должна быть и менять ее совсем не хочется. Конечно, создатели кастомов наверняка сделают возможность скрытьимеющиеся и добавить дополнительные кнопки, но того, что уже есть, вполне достаточно. Например, уже есть фонарик и кнопка включения точки доступа, о чем еще можно мечтать?
</p>
<h3>Уведомления</h3>
<p>
Не так давно в CyanogenMod 11 и Paranoid Android 4.4 появилась так называемая функция Heads Up (в Paranoid она носит имя Hover), которая показывает пришедшее уведомление в виде небольшой плашки вверху экрана (на манер iOS). Не то, чтобы какое-то грандиозное достижение, но функция действительно удобная.
</p><p>
В Android 5.0 такая функция встроена, причем вместе с множеством различных настроек уведомлений, которые раньше можно было найти только в кастомных прошивках. Теперь уведомления от выбранного приложения можно не только отключить, но и изменить его приоритет (отображать всегда наверху или стандартно), отключить показ в виде всплывающей плашки или показ на экране блокировки (об этом мы поговорим далее).
</p>
<p>
Механизм обработки уведомлений стал абсолютно вылизанным и законченным. Его тоже совсем не хочется менять и как-то модернизировать. Все на своих местах, все так, как и должно быть.
</p>
<h3>Экран блокировки</h3>
<p>
Я влюбился в мотороловскую функцию Active Display как только впервые увидел ее в действии. И судя по тому, насколько быстро она перекочевала в кастомы и сторонние приложения, таких как я оказалось много. Без наличия в смартфоне специального сигнального процессора она, конечно, не создавала такого впечатляющего эффекта как оригинал из Moto X, но даже в кастрированном варианте оказалась очень удобной.
</p><p>
Начиная с Android 5.0 компания Google решила сделать функционал Active Display стандартным, встроив его (в несколько измененном виде) прямо в операционку. Официально это называется "Уведомления на экране блокировки", но по сути это все тот же Active Display, стилизованный под аналогичную функцию из iOS. Когда приходит уведомление, оно размещается на экране блокировки, а сам смартфон пробуждается, так что владелец может увидеть сообщение. Тут же его можно смахнуть или открыть приложение.
</p>
<center>
<img src="/uploads/android50-lock.png"/>
</center>
<i>Уведомление на экране блокировки Android 5.0</i>
<p>
В целом очень удобная функция, которая по неизвестной причине не была реализована намного раньше.
</p>
<h3>Smart Lock</h3>
<p>
Честно говоря не уверен, что в каком-то кастоме есть подобная функциональность, но так или иначе ее следовало бы добавить. Smart Lock - это механизм, позволяющий автоматически отключать защиту на экране блокировки (пароль или графический ключ) на основе наличия поблизости доверенного Bluetooth-устройства или текущего местоположения.
</p>
<center>
<img src="/uploads/smart-lock.png"/>
</center>
<i>Экран подключения Bluetooth-устройства в Smart Lock</i>
<p>
Например, Smart Lock можно настроить на отключение экрана блокировки дома или тогда, когда смартфон подключен к умным часам или магнитоле в автомобиле. Ну или и то и другое. В будущем Google вроде как обещает добавить дополнительные условия срабатывания функции.
<p>
<h3>Выводы</h3>
<p>
Да, в чистом Android до сих пор нет некоторых функций, таких, например, как возможность включения процентов заряда батареи (это, кстати, не баг, а фича), центрирования часов в строке состояния или, например, отключения кнопок навигации. Однако, все это мелочи, которые совсем не мешают использованию смартфона. Android 5.0 - вылизанная и полностью законченная операционная система, некоторые из особенностей которой могут не нравится, но в целом здесь все так, как и должно быть. А этого уже достаточно.
</p>
FIXME про отключение ненужных иконок в статусбаре
FIXME про многоокнный режим
