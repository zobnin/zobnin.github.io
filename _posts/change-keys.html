<p>
Несколько дней назад на моем планшете начала заедать кнопка включения. Характерный щелчок, который было слышно при нажатии, сменился на вязкое продавливание в глубину без всяких звуков. В голову пришла мысль разобрать планшет и, по возможности, исправить дефект, однако понимая, что без покупки новой кнопки сделать это вряд ли удастся, я был вынужден изменить идею на другую: повесить кнопку включения на другую бесполезную кнопку. Как оказалось, сделать это очень просто.
</p>

::cut::

<p>
Итак, у нас есть девайс с полурабочей кнопкой включения (или любой другой сбойной кнопкой). Задача: перевесить ее на другую кнопку. В моем случае на кнопку "Назад", располагающуюся на торце устройства и никогда не применявшуюся по прямому назначению. Как это сделать? Выполнив три простых шага:
<ol>
	<li>Получаем root.</li>
	<li>Берем любой файловый менеджер с поддержкой root-доступа и открываем в нем каталог /system/usr/keylayout/.</li>
	<li>Видим несколько текстовых файлов с расширением .kl. Нам нужен файл, в котором определена кнопка с нужным нам именем (в моем случае это "BACK" - кнопка назад). Ищем слово "BACK" по всем файлам кроме Generic.kl и меняем "BACK" на "POWER WAKE" (это кнопка включения).</li>
	<li>Сохраняем файл и перезагружаемся.</li>
</ol>
</p><p>
В моем случае нужная кнопка оказалась в файле rk29-keypad.kl, который изначально имел такой вид:
<pre>
key 59    MENU
key 102   HOME
key 114   VOLUME_DOWN
key 115   VOLUME_UP
key 116   POWER             WAKE
key 143   NOTIFICATION      WAKE
key 158   BACK
key 212   CAMERA
key 217   SEARCH
</pre>
Все, что потребовалось сделать это заменить третью строку снизу на такую:
<pre>
key 158   POWER		    WAKE
</pre>
</p><p>
Таким же образом я мог бы повесить кнопку включения на кнопку увеличения громкости (4 строка) или, к примеру, поменять местами кнопки "Домой" и "Камера" просто поменяв слова HOME и CAMERA местами.
</p><p>
Как видите все действительно очень просто. Удачных вам замен и крепких кнопок.
</p>

